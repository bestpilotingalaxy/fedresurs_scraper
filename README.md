# Hello!

Задание


Сайт “Федресурс” (https://fedresurs.ru) предоставляет возможность поиска информации о
компании по её названию. Например, если набрать в поиске на главной странице слово
“РОМАШКА”, то будут показаны все компании, у которых в названии присутствует это
слово. При нажатии на название любой из этих компаний открывается страница с
дополнительной информацией о выбранной компании - Полное наименование, сведения
об имуществе, список сообщений.
Например,
 при
 открытии
 информации
 об
 “ООО
РОМАШКА” (https://fedresurs.ru/company/971b80ca-06fe-4bfd-98eb-07d5aeda004b) можно
увидеть, что у них есть 29 сообщений.


Требуется:

1. Реализовать метод сбора всех сообщений по заданной ключевой фразе и оставить
среди всех сообщений только упоминания о банкротстве. Из сообщений нужно
извлечь уникальный идентификатор, текст, дату публикации и url
2. Реализовать HTTP сервис, со следующими endpoint’ами:
a. получить задание - на вход ключевик для поиска, возвращает guid задания,
b. показать результат - на вход guid задания, возвращает json со всеми
сообщениями, полученными методом из п. 1
3. Реализовать сервис как docker контейнер


Опционально:
1. Реализовать хранение промежуточных данных в любой привычной БД
2. Реализовать логгирование получения и выполнения заданий любым привычным
способом

_______________________________________________________

# Installation and launch:

1. Clone repo.
            
           
2.           $ docker-compose up


# Endpoints:
  
  
    1. #CREATE TASK:
       
       HTTP 'POST' 0.0.0.0:5000/task
              
       json_body= {
                    'keyword': <keyword>
                  }
    
       
       Response:
                  {
                    'task_id': <task_id>
                  }
    
    
   --------------------------------------------------------------------------------------------- 
    
    2. #GET RESULT OR TASK STATUS:
       
       HTTP 'POST' 0.0.0.0:5000/result    
       
       json_body= {
                    'task_id': <task_id>
                  }
          
       
       Response cantains result in format:
       
                  {
                    'task_id':
                             [                                  
                               {
                                 'guid': <guid>,
                                 'text': <text>,
                                 'date': <date>,
                                 'url': <url>
                               },
                               {
                                  .......,
                                  .......,
                                  .......,
                                  .......
                               }                                                                                                                       
                             ]
                   }                       
       
       or task status in format:
                   
                   {
                     'task_status': <status>
                   }


Added logging of flask app(api.py) into "tasks.log" file in "flask" container.

Log format:
            
            %(asctime)s:%(name)s: Added task {job.id} in queue; keyword={keyword}
            %(asctime)s:%(name)s: Result of {job.id} task given away
            %(asctime)s:%(name)s: Requested result of {job.id}. Task in {status} status
